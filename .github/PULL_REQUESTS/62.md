# saving userArn instead of userid into db items

**minzhang28** commented *Dec 3, 2016*

Changes
- Extract the `userArn` from STS response to make it easier to identify who is locking the TF state file

- Output msg for acquire lock
```[terragrunt] 2016/12/02 20:26:13 Someone already has a lock on state file my-app! arn:aws:iam::123456789012:user/username@domain.com@127.0.0.1 acquired the lock on 2016-12-03 04:20:01.018442478 +0000 UTC.```

- DB Item

| StateFileId     | CreationDate  | Ip             |  Username
| ------------- |:-------------: | -------:    |  -------: 
| my-app          | 2016-12-03 04:20:01.018442478 +0000 UTC                   | 127.0.0.1  | arn:aws:iam::123456789012:user/username

<br />
***


**minzhang28** commented *Dec 4, 2016*

Test output
```
$ go test -v -parallel 128 $(glide novendor)
?   	github.com/gruntwork-io/terragrunt/aws_helper	[no test files]
=== RUN   TestParseTerragruntOptionsFromArgs
--- PASS: TestParseTerragruntOptionsFromArgs (0.00s)
PASS
ok  	github.com/gruntwork-io/terragrunt/cli	0.009s
=== RUN   TestPathRelativeToInclude
=== RUN   TestFindInParentFolders
=== RUN   TestResolveTerragruntInterpolation
=== RUN   TestResolveTerragruntConfigString
=== RUN   TestParseTerragruntConfigDynamoLockMinimalConfig
=== RUN   TestParseTerragruntConfigDynamoLockFullConfig
=== RUN   TestParseTerragruntConfigDynamoLockMissingStateFileId
=== RUN   TestParseTerragruntConfigRemoteStateMinimalConfig
=== RUN   TestParseTerragruntConfigRemoteStateMissingBackend
=== RUN   TestParseTerragruntConfigRemoteStateFullConfig
=== RUN   TestParseTerragruntConfigRemoteStateAndDynamoDbFullConfig
=== RUN   TestParseTerragruntConfigInvalidLockBackend
=== RUN   TestParseTerragruntConfigInclude
=== RUN   TestParseTerragruntConfigIncludeWithFindInParentFolders
=== RUN   TestParseTerragruntConfigIncludeOverrideRemote
=== RUN   TestParseTerragruntConfigIncludeOverrideAll
=== RUN   TestParseTerragruntConfigTwoLevels
=== RUN   TestParseTerragruntConfigThreeLevels
=== RUN   TestParseTerragruntConfigEmptyConfig
=== RUN   TestMergeConfigIntoIncludedConfig
--- PASS: TestParseTerragruntConfigEmptyConfig (0.00s)
--- PASS: TestMergeConfigIntoIncludedConfig (0.00s)
--- PASS: TestPathRelativeToInclude (0.00s)
--- PASS: TestParseTerragruntConfigDynamoLockMinimalConfig (0.00s)
--- PASS: TestParseTerragruntConfigRemoteStateFullConfig (0.00s)
--- PASS: TestParseTerragruntConfigDynamoLockFullConfig (0.00s)
--- PASS: TestParseTerragruntConfigRemoteStateMissingBackend (0.00s)
--- PASS: TestParseTerragruntConfigInvalidLockBackend (0.00s)
--- PASS: TestParseTerragruntConfigRemoteStateMinimalConfig (0.00s)
--- PASS: TestParseTerragruntConfigTwoLevels (0.00s)
--- PASS: TestResolveTerragruntConfigString (0.00s)
--- PASS: TestParseTerragruntConfigDynamoLockMissingStateFileId (0.00s)
--- PASS: TestResolveTerragruntInterpolation (0.00s)
--- PASS: TestParseTerragruntConfigRemoteStateAndDynamoDbFullConfig (0.00s)
--- PASS: TestParseTerragruntConfigInclude (0.00s)
--- PASS: TestParseTerragruntConfigIncludeOverrideRemote (0.00s)
--- PASS: TestFindInParentFolders (0.00s)
--- PASS: TestParseTerragruntConfigThreeLevels (0.00s)
--- PASS: TestParseTerragruntConfigIncludeWithFindInParentFolders (0.00s)
--- PASS: TestParseTerragruntConfigIncludeOverrideAll (0.00s)
PASS
ok  	github.com/gruntwork-io/terragrunt/config	0.010s
?   	github.com/gruntwork-io/terragrunt/errors	[no test files]
=== RUN   TestGetIpAddress
=== RUN   TestCreateLockMetadata
=== RUN   TestWithLockNoop
=== RUN   TestWithLockErrorOnAcquire
=== RUN   TestWithLockErrorOnRelease
=== RUN   TestWithLockErrorOnReleaseAndErrorInAction
=== RUN   TestWithLockErrorOnReleaseAndPanicInAction
--- PASS: TestWithLockErrorOnAcquire (0.00s)
--- PASS: TestWithLockErrorOnRelease (0.00s)
--- PASS: TestGetIpAddress (0.00s)
--- PASS: TestWithLockNoop (0.00s)
--- PASS: TestWithLockErrorOnReleaseAndPanicInAction (0.00s)
[terragrunt] 2016/12/03 23:23:06 ERROR: failed to release lock ErrorOnRelease: error-on-release
--- PASS: TestWithLockErrorOnReleaseAndErrorInAction (0.00s)
--- PASS: TestCreateLockMetadata (0.00s)
PASS
ok  	github.com/gruntwork-io/terragrunt/locks	0.015s
=== RUN   TestToLockMetadata
=== RUN   TestToLockMetadataInvalidCreationDate
=== RUN   TestToLockMetadataMissingUsername
=== RUN   TestCreateLockTableIfNecessaryTableDoesntAlreadyExist
=== RUN   TestCreateLockTableConcurrency
=== RUN   TestWaitForTableToBeActiveTableDoesNotExist
=== RUN   TestCreateLockTableIfNecessaryTableAlreadyExists
=== RUN   TestWriteItemToLockTable
=== RUN   TestWriteAndRemoveItemFromLockTable
=== RUN   TestWriteItemToLockTableUntilSuccessItemDoesntAlreadyExist
=== RUN   TestWriteItemToLockTableUntilSuccessItemAlreadyExists
=== RUN   TestWriteItemToLockTableUntilSuccessItemAlreadyExistsButGetsDeleted
=== RUN   TestWriteItemToLockTableConcurrency
=== RUN   TestAcquireLockHappyPath
=== RUN   TestAcquireLockWhenLockIsAlreadyTaken
=== RUN   TestAcquireAndReleaseLock
=== RUN   TestAcquireLockConcurrency
--- PASS: TestToLockMetadata (0.00s)
--- PASS: TestToLockMetadataMissingUsername (0.00s)
[terragrunt] 2016/12/03 23:23:06 Creating table terragrunt_test_ieEXx0 in DynamoDB
--- PASS: TestToLockMetadataInvalidCreationDate (0.00s)
[terragrunt] 2016/12/03 23:23:06 Attempting to acquire lock for state file peAWp6 in DynamoDB
[terragrunt] 2016/12/03 23:23:06 Creating table terragrunt_test_AV9DfN in DynamoDB
[terragrunt] 2016/12/03 23:23:06 Attempting to acquire lock for state file d6KVrv in DynamoDB
[terragrunt] 2016/12/03 23:23:06 Attempting to acquire lock for state file ltZ78U in DynamoDB
[terragrunt] 2016/12/03 23:23:07 Lock table terragrunt_test_DX8CzM does not exist in DynamoDB. Will need to create it just this first time.
[terragrunt] 2016/12/03 23:23:07 Creating table terragrunt_test_DX8CzM in DynamoDB
[terragrunt] 2016/12/03 23:23:07 Lock table terragrunt_test_DX8CzM does not exist in DynamoDB. Will need to create it just this first time.
[terragrunt] 2016/12/03 23:23:07 Creating table terragrunt_test_DX8CzM in DynamoDB
[terragrunt] 2016/12/03 23:23:07 Lock table terragrunt_test_DX8CzM does not exist in DynamoDB. Will need to create it just this first time.
[terragrunt] 2016/12/03 23:23:07 Creating table terragrunt_test_DX8CzM in DynamoDB
[terragrunt] 2016/12/03 23:23:07 Lock table terragrunt_test_WBJoAD does not exist in DynamoDB. Will need to create it just this first time.
[terragrunt] 2016/12/03 23:23:07 Creating table terragrunt_test_WBJoAD in DynamoDB
[terragrunt] 2016/12/03 23:23:07 Lock table terragrunt_test_G39BDM does not exist in DynamoDB. Will need to create it just this first time.
[terragrunt] 2016/12/03 23:23:07 Creating table terragrunt_test_G39BDM in DynamoDB
[terragrunt] 2016/12/03 23:23:07 Lock table terragrunt_test_RgmQ3I does not exist in DynamoDB. Will need to create it just this first time.
[terragrunt] 2016/12/03 23:23:07 Creating table terragrunt_test_RgmQ3I in DynamoDB
[terragrunt] 2016/12/03 23:23:07 Lock table terragrunt_test_DX8CzM does not exist in DynamoDB. Will need to create it just this first time.
[terragrunt] 2016/12/03 23:23:07 Creating table terragrunt_test_DX8CzM in DynamoDB
[terragrunt] 2016/12/03 23:23:07 Lock table terragrunt_test_DX8CzM does not exist in DynamoDB. Will need to create it just this first time.
[terragrunt] 2016/12/03 23:23:07 Creating table terragrunt_test_DX8CzM in DynamoDB
[terragrunt] 2016/12/03 23:23:07 Lock table terragrunt_test_DX8CzM does not exist in DynamoDB. Will need to create it just this first time.
[terragrunt] 2016/12/03 23:23:07 Creating table terragrunt_test_DX8CzM in DynamoDB
[terragrunt] 2016/12/03 23:23:07 Lock table terragrunt_test_Lrwk69 does not exist in DynamoDB. Will need to create it just this first time.
[terragrunt] 2016/12/03 23:23:07 Creating table terragrunt_test_Lrwk69 in DynamoDB
[terragrunt] 2016/12/03 23:23:07 Lock table terragrunt_test_KLIpxy does not exist in DynamoDB. Will need to create it just this first time.
[terragrunt] 2016/12/03 23:23:07 Creating table terragrunt_test_KLIpxy in DynamoDB
[terragrunt] 2016/12/03 23:23:07 Lock table terragrunt_test_J9jYrz does not exist in DynamoDB. Will need to create it just this first time.
[terragrunt] 2016/12/03 23:23:07 Creating table terragrunt_test_J9jYrz in DynamoDB
[terragrunt] 2016/12/03 23:23:07 Lock table terragrunt_test_DX8CzM does not exist in DynamoDB. Will need to create it just this first time.
[terragrunt] 2016/12/03 23:23:07 Creating table terragrunt_test_DX8CzM in DynamoDB
[terragrunt] 2016/12/03 23:23:07 Table table-does-not-exist is not yet in active state. Will check again after 1ms.
[terragrunt] 2016/12/03 23:23:07 Lock table terragrunt_test_DX8CzM does not exist in DynamoDB. Will need to create it just this first time.
[terragrunt] 2016/12/03 23:23:07 Creating table terragrunt_test_DX8CzM in DynamoDB
[terragrunt] 2016/12/03 23:23:07 Lock table terragrunt_test_DX8CzM does not exist in DynamoDB. Will need to create it just this first time.
[terragrunt] 2016/12/03 23:23:07 Creating table terragrunt_test_DX8CzM in DynamoDB
[terragrunt] 2016/12/03 23:23:07 Lock table terragrunt_test_oBsXUm does not exist in DynamoDB. Will need to create it just this first time.
[terragrunt] 2016/12/03 23:23:07 Creating table terragrunt_test_oBsXUm in DynamoDB
[terragrunt] 2016/12/03 23:23:07 Lock table terragrunt_test_DX8CzM does not exist in DynamoDB. Will need to create it just this first time.
[terragrunt] 2016/12/03 23:23:07 Creating table terragrunt_test_DX8CzM in DynamoDB
[terragrunt] 2016/12/03 23:23:07 Lock table terragrunt_test_HySIHD does not exist in DynamoDB. Will need to create it just this first time.
[terragrunt] 2016/12/03 23:23:07 Creating table terragrunt_test_HySIHD in DynamoDB
[terragrunt] 2016/12/03 23:23:07 Lock table terragrunt_test_DX8CzM does not exist in DynamoDB. Will need to create it just this first time.
[terragrunt] 2016/12/03 23:23:07 Creating table terragrunt_test_DX8CzM in DynamoDB
[terragrunt] 2016/12/03 23:23:07 Lock table terragrunt_test_JbrfSo does not exist in DynamoDB. Will need to create it just this first time.
[terragrunt] 2016/12/03 23:23:07 Creating table terragrunt_test_JbrfSo in DynamoDB
[terragrunt] 2016/12/03 23:23:07 Lock table terragrunt_test_DX8CzM does not exist in DynamoDB. Will need to create it just this first time.
[terragrunt] 2016/12/03 23:23:07 Creating table terragrunt_test_DX8CzM in DynamoDB
[terragrunt] 2016/12/03 23:23:07 Lock table terragrunt_test_DX8CzM does not exist in DynamoDB. Will need to create it just this first time.
[terragrunt] 2016/12/03 23:23:07 Creating table terragrunt_test_DX8CzM in DynamoDB
[terragrunt] 2016/12/03 23:23:07 Lock table terragrunt_test_DX8CzM does not exist in DynamoDB. Will need to create it just this first time.
[terragrunt] 2016/12/03 23:23:07 Creating table terragrunt_test_DX8CzM in DynamoDB
[terragrunt] 2016/12/03 23:23:07 Lock table terragrunt_test_DX8CzM does not exist in DynamoDB. Will need to create it just this first time.
[terragrunt] 2016/12/03 23:23:07 Creating table terragrunt_test_DX8CzM in DynamoDB
[terragrunt] 2016/12/03 23:23:07 Lock table terragrunt_test_DX8CzM does not exist in DynamoDB. Will need to create it just this first time.
[terragrunt] 2016/12/03 23:23:07 Creating table terragrunt_test_DX8CzM in DynamoDB
[terragrunt] 2016/12/03 23:23:07 Lock table terragrunt_test_7WjXlS does not exist in DynamoDB. Will need to create it just this first time.
[terragrunt] 2016/12/03 23:23:07 Creating table terragrunt_test_7WjXlS in DynamoDB
[terragrunt] 2016/12/03 23:23:07 Lock table terragrunt_test_DX8CzM does not exist in DynamoDB. Will need to create it just this first time.
[terragrunt] 2016/12/03 23:23:07 Creating table terragrunt_test_DX8CzM in DynamoDB
[terragrunt] 2016/12/03 23:23:07 Lock table terragrunt_test_DX8CzM does not exist in DynamoDB. Will need to create it just this first time.
[terragrunt] 2016/12/03 23:23:07 Creating table terragrunt_test_DX8CzM in DynamoDB
[terragrunt] 2016/12/03 23:23:07 Lock table terragrunt_test_DX8CzM does not exist in DynamoDB. Will need to create it just this first time.
[terragrunt] 2016/12/03 23:23:07 Creating table terragrunt_test_DX8CzM in DynamoDB
[terragrunt] 2016/12/03 23:23:07 Looks like someone created table terragrunt_test_DX8CzM at the same time. Will wait for it to be in active state.
[terragrunt] 2016/12/03 23:23:07 Lock table terragrunt_test_DX8CzM does not exist in DynamoDB. Will need to create it just this first time.
[terragrunt] 2016/12/03 23:23:07 Creating table terragrunt_test_DX8CzM in DynamoDB
[terragrunt] 2016/12/03 23:23:07 Looks like someone created table terragrunt_test_DX8CzM at the same time. Will wait for it to be in active state.
[terragrunt] 2016/12/03 23:23:07 Looks like someone created table terragrunt_test_DX8CzM at the same time. Will wait for it to be in active state.
[terragrunt] 2016/12/03 23:23:07 Looks like someone created table terragrunt_test_DX8CzM at the same time. Will wait for it to be in active state.
[terragrunt] 2016/12/03 23:23:07 Table table-does-not-exist is not yet in active state. Will check again after 1ms.
[terragrunt] 2016/12/03 23:23:07 Looks like someone created table terragrunt_test_DX8CzM at the same time. Will wait for it to be in active state.
[terragrunt] 2016/12/03 23:23:07 Looks like someone created table terragrunt_test_DX8CzM at the same time. Will wait for it to be in active state.
[terragrunt] 2016/12/03 23:23:07 Table terragrunt_test_ieEXx0 is not yet in active state. Will check again after 10s.
[terragrunt] 2016/12/03 23:23:07 Looks like someone created table terragrunt_test_DX8CzM at the same time. Will wait for it to be in active state.
[terragrunt] 2016/12/03 23:23:07 Looks like someone created table terragrunt_test_DX8CzM at the same time. Will wait for it to be in active state.
[terragrunt] 2016/12/03 23:23:07 Looks like someone created table terragrunt_test_DX8CzM at the same time. Will wait for it to be in active state.
[terragrunt] 2016/12/03 23:23:07 Looks like someone created table terragrunt_test_DX8CzM at the same time. Will wait for it to be in active state.
[terragrunt] 2016/12/03 23:23:07 Looks like someone created table terragrunt_test_DX8CzM at the same time. Will wait for it to be in active state.
[terragrunt] 2016/12/03 23:23:07 Looks like someone created table terragrunt_test_DX8CzM at the same time. Will wait for it to be in active state.
[terragrunt] 2016/12/03 23:23:07 Table terragrunt_test_AV9DfN is not yet in active state. Will check again after 10s.
[terragrunt] 2016/12/03 23:23:07 Looks like someone created table terragrunt_test_DX8CzM at the same time. Will wait for it to be in active state.
[terragrunt] 2016/12/03 23:23:07 Looks like someone created table terragrunt_test_DX8CzM at the same time. Will wait for it to be in active state.
[terragrunt] 2016/12/03 23:23:07 Looks like someone created table terragrunt_test_DX8CzM at the same time. Will wait for it to be in active state.
[terragrunt] 2016/12/03 23:23:07 Looks like someone created table terragrunt_test_DX8CzM at the same time. Will wait for it to be in active state.
[terragrunt] 2016/12/03 23:23:07 Table terragrunt_test_DX8CzM is not yet in active state. Will check again after 10s.
[terragrunt] 2016/12/03 23:23:07 Table terragrunt_test_DX8CzM is not yet in active state. Will check again after 10s.
[terragrunt] 2016/12/03 23:23:07 Table terragrunt_test_DX8CzM is not yet in active state. Will check again after 10s.
[terragrunt] 2016/12/03 23:23:07 Table terragrunt_test_DX8CzM is not yet in active state. Will check again after 10s.
[terragrunt] 2016/12/03 23:23:07 Table terragrunt_test_KLIpxy is not yet in active state. Will check again after 10s.
[terragrunt] 2016/12/03 23:23:07 Looks like someone created table terragrunt_test_DX8CzM at the same time. Will wait for it to be in active state.
[terragrunt] 2016/12/03 23:23:07 Table terragrunt_test_WBJoAD is not yet in active state. Will check again after 10s.
[terragrunt] 2016/12/03 23:23:07 Table table-does-not-exist is not yet in active state. Will check again after 1ms.
[terragrunt] 2016/12/03 23:23:07 Table terragrunt_test_DX8CzM is not yet in active state. Will check again after 10s.
[terragrunt] 2016/12/03 23:23:07 Table terragrunt_test_DX8CzM is not yet in active state. Will check again after 10s.
[terragrunt] 2016/12/03 23:23:07 Table terragrunt_test_DX8CzM is not yet in active state. Will check again after 10s.
[terragrunt] 2016/12/03 23:23:07 Table terragrunt_test_DX8CzM is not yet in active state. Will check again after 10s.
[terragrunt] 2016/12/03 23:23:07 Table terragrunt_test_DX8CzM is not yet in active state. Will check again after 10s.
[terragrunt] 2016/12/03 23:23:07 Table terragrunt_test_DX8CzM is not yet in active state. Will check again after 10s.
[terragrunt] 2016/12/03 23:23:07 Table terragrunt_test_oBsXUm is not yet in active state. Will check again after 10s.
[terragrunt] 2016/12/03 23:23:07 Table terragrunt_test_DX8CzM is not yet in active state. Will check again after 10s.
[terragrunt] 2016/12/03 23:23:07 Table terragrunt_test_DX8CzM is not yet in active state. Will check again after 10s.
[terragrunt] 2016/12/03 23:23:07 Table terragrunt_test_DX8CzM is not yet in active state. Will check again after 10s.
[terragrunt] 2016/12/03 23:23:07 Table terragrunt_test_JbrfSo is not yet in active state. Will check again after 10s.
[terragrunt] 2016/12/03 23:23:07 Table terragrunt_test_DX8CzM is not yet in active state. Will check again after 10s.
[terragrunt] 2016/12/03 23:23:07 Table terragrunt_test_DX8CzM is not yet in active state. Will check again after 10s.
[terragrunt] 2016/12/03 23:23:07 Table terragrunt_test_7WjXlS is not yet in active state. Will check again after 10s.
[terragrunt] 2016/12/03 23:23:07 Table terragrunt_test_DX8CzM is not yet in active state. Will check again after 10s.
[terragrunt] 2016/12/03 23:23:07 Looks like someone created table terragrunt_test_DX8CzM at the same time. Will wait for it to be in active state.
[terragrunt] 2016/12/03 23:23:07 Looks like someone created table terragrunt_test_DX8CzM at the same time. Will wait for it to be in active state.
[terragrunt] 2016/12/03 23:23:07 Table terragrunt_test_DX8CzM is not yet in active state. Will check again after 10s.
[terragrunt] 2016/12/03 23:23:07 Table terragrunt_test_DX8CzM is not yet in active state. Will check again after 10s.
[terragrunt] 2016/12/03 23:23:07 Table table-does-not-exist is not yet in active state. Will check again after 1ms.
[terragrunt] 2016/12/03 23:23:07 Table terragrunt_test_DX8CzM is not yet in active state. Will check again after 10s.
[terragrunt] 2016/12/03 23:23:07 Table terragrunt_test_RgmQ3I is not yet in active state. Will check again after 10s.
[terragrunt] 2016/12/03 23:23:07 Table terragrunt_test_DX8CzM is not yet in active state. Will check again after 10s.
[terragrunt] 2016/12/03 23:23:07 Table terragrunt_test_G39BDM is not yet in active state. Will check again after 10s.
[terragrunt] 2016/12/03 23:23:07 Table table-does-not-exist is not yet in active state. Will check again after 1ms.
--- PASS: TestWaitForTableToBeActiveTableDoesNotExist (0.79s)
[terragrunt] 2016/12/03 23:23:09 Table terragrunt_test_Lrwk69 is not yet in active state. Will check again after 10s.
[terragrunt] 2016/12/03 23:23:09 Table terragrunt_test_J9jYrz is not yet in active state. Will check again after 10s.
[terragrunt] 2016/12/03 23:23:11 Table terragrunt_test_HySIHD is not yet in active state. Will check again after 10s.
[terragrunt] 2016/12/03 23:23:17 Success! Table terragrunt_test_ieEXx0 is now in active state.
[terragrunt] 2016/12/03 23:23:17 Attempting to acquire lock for state file 5TcV5G in DynamoDB
[terragrunt] 2016/12/03 23:23:17 Attempting to acquire lock for state file 5TcV5G in DynamoDB
[terragrunt] 2016/12/03 23:23:17 Attempting to acquire lock for state file 5TcV5G in DynamoDB
[terragrunt] 2016/12/03 23:23:17 Attempting to acquire lock for state file 5TcV5G in DynamoDB
[terragrunt] 2016/12/03 23:23:17 Attempting to acquire lock for state file 5TcV5G in DynamoDB
[terragrunt] 2016/12/03 23:23:17 Attempting to acquire lock for state file 5TcV5G in DynamoDB
[terragrunt] 2016/12/03 23:23:17 Attempting to acquire lock for state file 5TcV5G in DynamoDB
[terragrunt] 2016/12/03 23:23:17 Attempting to acquire lock for state file 5TcV5G in DynamoDB
[terragrunt] 2016/12/03 23:23:17 Attempting to acquire lock for state file 5TcV5G in DynamoDB
[terragrunt] 2016/12/03 23:23:17 Attempting to acquire lock for state file 5TcV5G in DynamoDB
[terragrunt] 2016/12/03 23:23:17 Attempting to acquire lock for state file 5TcV5G in DynamoDB
[terragrunt] 2016/12/03 23:23:17 Attempting to acquire lock for state file 5TcV5G in DynamoDB
[terragrunt] 2016/12/03 23:23:17 Attempting to acquire lock for state file 5TcV5G in DynamoDB
[terragrunt] 2016/12/03 23:23:17 Attempting to acquire lock for state file 5TcV5G in DynamoDB
[terragrunt] 2016/12/03 23:23:17 Attempting to acquire lock for state file 5TcV5G in DynamoDB
[terragrunt] 2016/12/03 23:23:17 Attempting to acquire lock for state file 5TcV5G in DynamoDB
[terragrunt] 2016/12/03 23:23:17 Attempting to acquire lock for state file 5TcV5G in DynamoDB
[terragrunt] 2016/12/03 23:23:17 Attempting to acquire lock for state file 5TcV5G in DynamoDB
[terragrunt] 2016/12/03 23:23:17 Attempting to acquire lock for state file 5TcV5G in DynamoDB
[terragrunt] 2016/12/03 23:23:17 Attempting to acquire lock for state file 5TcV5G in DynamoDB
[terragrunt] 2016/12/03 23:23:17 Success! Table terragrunt_test_AV9DfN is now in active state.
[terragrunt] 2016/12/03 23:23:17 Success! Table terragrunt_test_DX8CzM is now in active state.
[terragrunt] 2016/12/03 23:23:17 Success! Table terragrunt_test_DX8CzM is now in active state.
[terragrunt] 2016/12/03 23:23:17 Success! Table terragrunt_test_DX8CzM is now in active state.
[terragrunt] 2016/12/03 23:23:17 Success! Table terragrunt_test_DX8CzM is now in active state.
[terragrunt] 2016/12/03 23:23:17 Success! Table terragrunt_test_KLIpxy is now in active state.
[terragrunt] 2016/12/03 23:23:17 Table terragrunt_test_WBJoAD is not yet in active state. Will check again after 10s.
[terragrunt] 2016/12/03 23:23:17 Lock table terragrunt_test_azf3zh does not exist in DynamoDB. Will need to create it just this first time.
[terragrunt] 2016/12/03 23:23:17 Creating table terragrunt_test_azf3zh in DynamoDB
[terragrunt] 2016/12/03 23:23:17 Lock table terragrunt_test_azf3zh does not exist in DynamoDB. Will need to create it just this first time.
[terragrunt] 2016/12/03 23:23:17 Creating table terragrunt_test_azf3zh in DynamoDB
[terragrunt] 2016/12/03 23:23:17 Lock table terragrunt_test_azf3zh does not exist in DynamoDB. Will need to create it just this first time.
[terragrunt] 2016/12/03 23:23:17 Creating table terragrunt_test_azf3zh in DynamoDB
[terragrunt] 2016/12/03 23:23:17 Lock table terragrunt_test_azf3zh does not exist in DynamoDB. Will need to create it just this first time.
[terragrunt] 2016/12/03 23:23:17 Creating table terragrunt_test_azf3zh in DynamoDB
[terragrunt] 2016/12/03 23:23:17 Lock table terragrunt_test_azf3zh does not exist in DynamoDB. Will need to create it just this first time.
[terragrunt] 2016/12/03 23:23:17 Creating table terragrunt_test_azf3zh in DynamoDB
[terragrunt] 2016/12/03 23:23:17 Lock table terragrunt_test_azf3zh does not exist in DynamoDB. Will need to create it just this first time.
[terragrunt] 2016/12/03 23:23:17 Creating table terragrunt_test_azf3zh in DynamoDB
[terragrunt] 2016/12/03 23:23:17 Success! Table terragrunt_test_DX8CzM is now in active state.
[terragrunt] 2016/12/03 23:23:17 Lock table terragrunt_test_azf3zh does not exist in DynamoDB. Will need to create it just this first time.
[terragrunt] 2016/12/03 23:23:17 Creating table terragrunt_test_azf3zh in DynamoDB
[terragrunt] 2016/12/03 23:23:17 Lock table terragrunt_test_azf3zh does not exist in DynamoDB. Will need to create it just this first time.
[terragrunt] 2016/12/03 23:23:17 Creating table terragrunt_test_azf3zh in DynamoDB
[terragrunt] 2016/12/03 23:23:17 Lock table terragrunt_test_azf3zh does not exist in DynamoDB. Will need to create it just this first time.
[terragrunt] 2016/12/03 23:23:17 Creating table terragrunt_test_azf3zh in DynamoDB
[terragrunt] 2016/12/03 23:23:17 Lock table terragrunt_test_azf3zh does not exist in DynamoDB. Will need to create it just this first time.
[terragrunt] 2016/12/03 23:23:17 Creating table terragrunt_test_azf3zh in DynamoDB
[terragrunt] 2016/12/03 23:23:17 Success! Table terragrunt_test_DX8CzM is now in active state.
[terragrunt] 2016/12/03 23:23:17 Lock table terragrunt_test_azf3zh does not exist in DynamoDB. Will need to create it just this first time.
[terragrunt] 2016/12/03 23:23:17 Creating table terragrunt_test_azf3zh in DynamoDB
[terragrunt] 2016/12/03 23:23:17 Success! Table terragrunt_test_DX8CzM is now in active state.
[terragrunt] 2016/12/03 23:23:17 Success! Table terragrunt_test_DX8CzM is now in active state.
[terragrunt] 2016/12/03 23:23:17 Lock table terragrunt_test_azf3zh does not exist in DynamoDB. Will need to create it just this first time.
[terragrunt] 2016/12/03 23:23:17 Creating table terragrunt_test_azf3zh in DynamoDB
[terragrunt] 2016/12/03 23:23:17 Lock table terragrunt_test_azf3zh does not exist in DynamoDB. Will need to create it just this first time.
[terragrunt] 2016/12/03 23:23:17 Creating table terragrunt_test_azf3zh in DynamoDB
[terragrunt] 2016/12/03 23:23:17 Lock table terragrunt_test_azf3zh does not exist in DynamoDB. Will need to create it just this first time.
[terragrunt] 2016/12/03 23:23:17 Creating table terragrunt_test_azf3zh in DynamoDB
[terragrunt] 2016/12/03 23:23:17 Lock table terragrunt_test_azf3zh does not exist in DynamoDB. Will need to create it just this first time.
[terragrunt] 2016/12/03 23:23:17 Creating table terragrunt_test_azf3zh in DynamoDB
[terragrunt] 2016/12/03 23:23:17 Lock table terragrunt_test_azf3zh does not exist in DynamoDB. Will need to create it just this first time.
[terragrunt] 2016/12/03 23:23:17 Creating table terragrunt_test_azf3zh in DynamoDB
[terragrunt] 2016/12/03 23:23:17 Lock table terragrunt_test_azf3zh does not exist in DynamoDB. Will need to create it just this first time.
[terragrunt] 2016/12/03 23:23:17 Creating table terragrunt_test_azf3zh in DynamoDB
[terragrunt] 2016/12/03 23:23:17 Success! Table terragrunt_test_DX8CzM is now in active state.
[terragrunt] 2016/12/03 23:23:17 Lock table terragrunt_test_azf3zh does not exist in DynamoDB. Will need to create it just this first time.
[terragrunt] 2016/12/03 23:23:17 Creating table terragrunt_test_azf3zh in DynamoDB
[terragrunt] 2016/12/03 23:23:17 Lock table terragrunt_test_azf3zh does not exist in DynamoDB. Will need to create it just this first time.
[terragrunt] 2016/12/03 23:23:17 Creating table terragrunt_test_azf3zh in DynamoDB
[terragrunt] 2016/12/03 23:23:17 Success! Table terragrunt_test_DX8CzM is now in active state.
[terragrunt] 2016/12/03 23:23:17 Lock table terragrunt_test_azf3zh does not exist in DynamoDB. Will need to create it just this first time.
[terragrunt] 2016/12/03 23:23:17 Creating table terragrunt_test_azf3zh in DynamoDB
[terragrunt] 2016/12/03 23:23:17 Success! Table terragrunt_test_oBsXUm is now in active state.
[terragrunt] 2016/12/03 23:23:17 Success! Table terragrunt_test_DX8CzM is now in active state.
[terragrunt] 2016/12/03 23:23:17 Success! Table terragrunt_test_DX8CzM is now in active state.
[terragrunt] 2016/12/03 23:23:17 Success! Table terragrunt_test_JbrfSo is now in active state.
[terragrunt] 2016/12/03 23:23:17 Attempting to create lock item for state file peAWp6 in DynamoDB table terragrunt_test_JbrfSo
[terragrunt] 2016/12/03 23:23:17 Success! Table terragrunt_test_DX8CzM is now in active state.
[terragrunt] 2016/12/03 23:23:17 Success! Table terragrunt_test_DX8CzM is now in active state.
[terragrunt] 2016/12/03 23:23:17 Success! Table terragrunt_test_DX8CzM is now in active state.
[terragrunt] 2016/12/03 23:23:17 Success! Table terragrunt_test_DX8CzM is now in active state.
[terragrunt] 2016/12/03 23:23:17 Success! Table terragrunt_test_DX8CzM is now in active state.
[terragrunt] 2016/12/03 23:23:17 Success! Table terragrunt_test_RgmQ3I is now in active state.
[terragrunt] 2016/12/03 23:23:17 Attempting to create lock item for state file GT6t56 in DynamoDB table terragrunt_test_RgmQ3I
[terragrunt] 2016/12/03 23:23:17 Success! Table terragrunt_test_7WjXlS is now in active state.
[terragrunt] 2016/12/03 23:23:17 Attempting to create lock item for state file ltZ78U in DynamoDB table terragrunt_test_7WjXlS
[terragrunt] 2016/12/03 23:23:17 Success! Table terragrunt_test_DX8CzM is now in active state.
[terragrunt] 2016/12/03 23:23:17 Success! Table terragrunt_test_DX8CzM is now in active state.
[terragrunt] 2016/12/03 23:23:17 Success! Table terragrunt_test_DX8CzM is now in active state.
[terragrunt] 2016/12/03 23:23:17 Success! Table terragrunt_test_G39BDM is now in active state.
[terragrunt] 2016/12/03 23:23:17 Looks like someone created table terragrunt_test_azf3zh at the same time. Will wait for it to be in active state.
[terragrunt] 2016/12/03 23:23:17 Looks like someone created table terragrunt_test_azf3zh at the same time. Will wait for it to be in active state.
[terragrunt] 2016/12/03 23:23:17 Looks like someone created table terragrunt_test_azf3zh at the same time. Will wait for it to be in active state.
[terragrunt] 2016/12/03 23:23:17 Looks like someone created table terragrunt_test_azf3zh at the same time. Will wait for it to be in active state.
[terragrunt] 2016/12/03 23:23:17 Looks like someone created table terragrunt_test_azf3zh at the same time. Will wait for it to be in active state.
[terragrunt] 2016/12/03 23:23:17 Looks like someone created table terragrunt_test_azf3zh at the same time. Will wait for it to be in active state.
[terragrunt] 2016/12/03 23:23:17 Looks like someone created table terragrunt_test_azf3zh at the same time. Will wait for it to be in active state.
[terragrunt] 2016/12/03 23:23:17 Looks like someone created table terragrunt_test_azf3zh at the same time. Will wait for it to be in active state.
[terragrunt] 2016/12/03 23:23:17 Looks like someone created table terragrunt_test_azf3zh at the same time. Will wait for it to be in active state.
[terragrunt] 2016/12/03 23:23:17 Looks like someone created table terragrunt_test_azf3zh at the same time. Will wait for it to be in active state.
[terragrunt] 2016/12/03 23:23:17 Looks like someone created table terragrunt_test_azf3zh at the same time. Will wait for it to be in active state.
[terragrunt] 2016/12/03 23:23:17 Looks like someone created table terragrunt_test_azf3zh at the same time. Will wait for it to be in active state.
[terragrunt] 2016/12/03 23:23:17 Looks like someone created table terragrunt_test_azf3zh at the same time. Will wait for it to be in active state.
[terragrunt] 2016/12/03 23:23:17 Looks like someone created table terragrunt_test_azf3zh at the same time. Will wait for it to be in active state.
[terragrunt] 2016/12/03 23:23:17 Looks like someone created table terragrunt_test_azf3zh at the same time. Will wait for it to be in active state.
[terragrunt] 2016/12/03 23:23:17 Looks like someone created table terragrunt_test_azf3zh at the same time. Will wait for it to be in active state.
[terragrunt] 2016/12/03 23:23:17 Looks like someone created table terragrunt_test_azf3zh at the same time. Will wait for it to be in active state.
[terragrunt] 2016/12/03 23:23:17 Looks like someone created table terragrunt_test_azf3zh at the same time. Will wait for it to be in active state.
[terragrunt] 2016/12/03 23:23:17 Looks like someone created table terragrunt_test_azf3zh at the same time. Will wait for it to be in active state.
--- PASS: TestCreateLockTableConcurrency (11.14s)
[terragrunt] 2016/12/03 23:23:18 Table terragrunt_test_azf3zh is not yet in active state. Will check again after 10s.
[terragrunt] 2016/12/03 23:23:18 Table terragrunt_test_azf3zh is not yet in active state. Will check again after 10s.
[terragrunt] 2016/12/03 23:23:18 Table terragrunt_test_azf3zh is not yet in active state. Will check again after 10s.
[terragrunt] 2016/12/03 23:23:18 Table terragrunt_test_azf3zh is not yet in active state. Will check again after 10s.
[terragrunt] 2016/12/03 23:23:18 Table terragrunt_test_azf3zh is not yet in active state. Will check again after 10s.
[terragrunt] 2016/12/03 23:23:18 Table terragrunt_test_azf3zh is not yet in active state. Will check again after 10s.
[terragrunt] 2016/12/03 23:23:18 Table terragrunt_test_azf3zh is not yet in active state. Will check again after 10s.
[terragrunt] 2016/12/03 23:23:18 Table terragrunt_test_azf3zh is not yet in active state. Will check again after 10s.
[terragrunt] 2016/12/03 23:23:18 Table terragrunt_test_azf3zh is not yet in active state. Will check again after 10s.
[terragrunt] 2016/12/03 23:23:18 Table terragrunt_test_azf3zh is not yet in active state. Will check again after 10s.
[terragrunt] 2016/12/03 23:23:18 Table terragrunt_test_azf3zh is not yet in active state. Will check again after 10s.
[terragrunt] 2016/12/03 23:23:18 Table terragrunt_test_azf3zh is not yet in active state. Will check again after 10s.
[terragrunt] 2016/12/03 23:23:18 Table terragrunt_test_azf3zh is not yet in active state. Will check again after 10s.
[terragrunt] 2016/12/03 23:23:18 Table terragrunt_test_azf3zh is not yet in active state. Will check again after 10s.
[terragrunt] 2016/12/03 23:23:18 Table terragrunt_test_azf3zh is not yet in active state. Will check again after 10s.
[terragrunt] 2016/12/03 23:23:18 Table terragrunt_test_azf3zh is not yet in active state. Will check again after 10s.
[terragrunt] 2016/12/03 23:23:18 Table terragrunt_test_azf3zh is not yet in active state. Will check again after 10s.
[terragrunt] 2016/12/03 23:23:18 Table terragrunt_test_azf3zh is not yet in active state. Will check again after 10s.
[terragrunt] 2016/12/03 23:23:18 Table terragrunt_test_azf3zh is not yet in active state. Will check again after 10s.
[terragrunt] 2016/12/03 23:23:18 Table terragrunt_test_azf3zh is not yet in active state. Will check again after 10s.
[terragrunt] 2016/12/03 23:23:18 Lock acquired!
[terragrunt] 2016/12/03 23:23:18 Attempting to acquire lock for state file ltZ78U in DynamoDB
--- PASS: TestCreateLockTableIfNecessaryTableAlreadyExists (11.23s)
[terragrunt] 2016/12/03 23:23:18 Lock acquired!
[terragrunt] 2016/12/03 23:23:18 Lock acquired!
--- PASS: TestWriteItemToLockTableConcurrency (11.25s)
[terragrunt] 2016/12/03 23:23:18 Attempting to create lock item for state file ltZ78U in DynamoDB table terragrunt_test_7WjXlS
--- PASS: TestAcquireLockHappyPath (11.35s)
[terragrunt] 2016/12/03 23:23:18 Someone already has a lock on state file ltZ78U! arn:aws:iam::123456789012:user/username@domain.com@192.168.31.74 acquired the lock on 2016-12-04 07:23:17.999301095 +0000 UTC.
[terragrunt] 2016/12/03 23:23:18 Attempting to release lock for state file ltZ78U in DynamoDB
[terragrunt] 2016/12/03 23:23:18 Lock released!
[terragrunt] 2016/12/03 23:23:18 Attempting to acquire lock for state file ltZ78U in DynamoDB
[terragrunt] 2016/12/03 23:23:18 Attempting to create lock item for state file ltZ78U in DynamoDB table terragrunt_test_7WjXlS
[terragrunt] 2016/12/03 23:23:18 Lock acquired!
--- PASS: TestAcquireAndReleaseLock (12.24s)
[terragrunt] 2016/12/03 23:23:19 Table terragrunt_test_Lrwk69 is not yet in active state. Will check again after 10s.
[terragrunt] 2016/12/03 23:23:19 Table terragrunt_test_J9jYrz is not yet in active state. Will check again after 10s.
[terragrunt] 2016/12/03 23:23:21 Success! Table terragrunt_test_HySIHD is now in active state.
[terragrunt] 2016/12/03 23:23:21 Attempting to create lock item for state file cZErsE in DynamoDB table terragrunt_test_HySIHD
[terragrunt] 2016/12/03 23:23:21 Someone already has a lock on state file cZErsE! arn:aws:iam::123456789012:user/username@domain.com@192.168.31.74 acquired the lock on 2016-12-04 07:23:21.409371437 +0000 UTC.
--- PASS: TestWriteItemToLockTableUntilSuccessItemAlreadyExists (15.08s)
--- PASS: TestWriteItemToLockTable (18.41s)
--- PASS: TestWriteItemToLockTableUntilSuccessItemDoesntAlreadyExist (18.47s)
--- PASS: TestWriteAndRemoveItemFromLockTable (18.64s)
[terragrunt] 2016/12/03 23:23:27 Table terragrunt_test_WBJoAD is not yet in active state. Will check again after 10s.
[terragrunt] 2016/12/03 23:23:28 Table terragrunt_test_azf3zh is not yet in active state. Will check again after 10s.
[terragrunt] 2016/12/03 23:23:28 Table terragrunt_test_azf3zh is not yet in active state. Will check again after 10s.
[terragrunt] 2016/12/03 23:23:28 Table terragrunt_test_azf3zh is not yet in active state. Will check again after 10s.
[terragrunt] 2016/12/03 23:23:28 Table terragrunt_test_azf3zh is not yet in active state. Will check again after 10s.
[terragrunt] 2016/12/03 23:23:28 Table terragrunt_test_azf3zh is not yet in active state. Will check again after 10s.
[terragrunt] 2016/12/03 23:23:28 Table terragrunt_test_azf3zh is not yet in active state. Will check again after 10s.
[terragrunt] 2016/12/03 23:23:28 Table terragrunt_test_azf3zh is not yet in active state. Will check again after 10s.
[terragrunt] 2016/12/03 23:23:28 Table terragrunt_test_azf3zh is not yet in active state. Will check again after 10s.
[terragrunt] 2016/12/03 23:23:28 Table terragrunt_test_azf3zh is not yet in active state. Will check again after 10s.
[terragrunt] 2016/12/03 23:23:28 Table terragrunt_test_azf3zh is not yet in active state. Will check again after 10s.
[terragrunt] 2016/12/03 23:23:28 Table terragrunt_test_azf3zh is not yet in active state. Will check again after 10s.
[terragrunt] 2016/12/03 23:23:28 Table terragrunt_test_azf3zh is not yet in active state. Will check again after 10s.
[terragrunt] 2016/12/03 23:23:28 Table terragrunt_test_azf3zh is not yet in active state. Will check again after 10s.
[terragrunt] 2016/12/03 23:23:28 Table terragrunt_test_azf3zh is not yet in active state. Will check again after 10s.
[terragrunt] 2016/12/03 23:23:28 Table terragrunt_test_azf3zh is not yet in active state. Will check again after 10s.
[terragrunt] 2016/12/03 23:23:28 Table terragrunt_test_azf3zh is not yet in active state. Will check again after 10s.
[terragrunt] 2016/12/03 23:23:28 Table terragrunt_test_azf3zh is not yet in active state. Will check again after 10s.
[terragrunt] 2016/12/03 23:23:28 Table terragrunt_test_azf3zh is not yet in active state. Will check again after 10s.
[terragrunt] 2016/12/03 23:23:28 Table terragrunt_test_azf3zh is not yet in active state. Will check again after 10s.
[terragrunt] 2016/12/03 23:23:28 Table terragrunt_test_azf3zh is not yet in active state. Will check again after 10s.
[terragrunt] 2016/12/03 23:23:29 Success! Table terragrunt_test_Lrwk69 is now in active state.
[terragrunt] 2016/12/03 23:23:29 Success! Table terragrunt_test_J9jYrz is now in active state.
[terragrunt] 2016/12/03 23:23:29 Attempting to create lock item for state file d6KVrv in DynamoDB table terragrunt_test_J9jYrz
--- PASS: TestCreateLockTableIfNecessaryTableDoesntAlreadyExist (23.08s)
[terragrunt] 2016/12/03 23:23:30 Lock acquired!
[terragrunt] 2016/12/03 23:23:30 Attempting to acquire lock for state file d6KVrv in DynamoDB
[terragrunt] 2016/12/03 23:23:30 Attempting to create lock item for state file d6KVrv in DynamoDB table terragrunt_test_J9jYrz
[terragrunt] 2016/12/03 23:23:30 Someone already has a lock on state file d6KVrv! arn:aws:iam::123456789012:user/username@domain.com@192.168.31.74 acquired the lock on 2016-12-04 07:23:29.919233383 +0000 UTC.
--- PASS: TestAcquireLockWhenLockIsAlreadyTaken (23.72s)
[terragrunt] 2016/12/03 23:23:38 Table terragrunt_test_WBJoAD is not yet in active state. Will check again after 10s.
[terragrunt] 2016/12/03 23:23:38 Success! Table terragrunt_test_azf3zh is now in active state.
[terragrunt] 2016/12/03 23:23:38 Attempting to create lock item for state file 5TcV5G in DynamoDB table terragrunt_test_azf3zh
[terragrunt] 2016/12/03 23:23:38 Success! Table terragrunt_test_azf3zh is now in active state.
[terragrunt] 2016/12/03 23:23:38 Attempting to create lock item for state file 5TcV5G in DynamoDB table terragrunt_test_azf3zh
[terragrunt] 2016/12/03 23:23:38 Success! Table terragrunt_test_azf3zh is now in active state.
[terragrunt] 2016/12/03 23:23:38 Attempting to create lock item for state file 5TcV5G in DynamoDB table terragrunt_test_azf3zh
[terragrunt] 2016/12/03 23:23:38 Success! Table terragrunt_test_azf3zh is now in active state.
[terragrunt] 2016/12/03 23:23:38 Attempting to create lock item for state file 5TcV5G in DynamoDB table terragrunt_test_azf3zh
[terragrunt] 2016/12/03 23:23:38 Lock acquired!
[terragrunt] 2016/12/03 23:23:38 Success! Table terragrunt_test_azf3zh is now in active state.
[terragrunt] 2016/12/03 23:23:38 Attempting to create lock item for state file 5TcV5G in DynamoDB table terragrunt_test_azf3zh
[terragrunt] 2016/12/03 23:23:38 Success! Table terragrunt_test_azf3zh is now in active state.
[terragrunt] 2016/12/03 23:23:38 Attempting to create lock item for state file 5TcV5G in DynamoDB table terragrunt_test_azf3zh
[terragrunt] 2016/12/03 23:23:38 Success! Table terragrunt_test_azf3zh is now in active state.
[terragrunt] 2016/12/03 23:23:38 Attempting to create lock item for state file 5TcV5G in DynamoDB table terragrunt_test_azf3zh
[terragrunt] 2016/12/03 23:23:38 Success! Table terragrunt_test_azf3zh is now in active state.
[terragrunt] 2016/12/03 23:23:38 Attempting to create lock item for state file 5TcV5G in DynamoDB table terragrunt_test_azf3zh
[terragrunt] 2016/12/03 23:23:38 Success! Table terragrunt_test_azf3zh is now in active state.
[terragrunt] 2016/12/03 23:23:38 Attempting to create lock item for state file 5TcV5G in DynamoDB table terragrunt_test_azf3zh
[terragrunt] 2016/12/03 23:23:38 Success! Table terragrunt_test_azf3zh is now in active state.
[terragrunt] 2016/12/03 23:23:38 Attempting to create lock item for state file 5TcV5G in DynamoDB table terragrunt_test_azf3zh
[terragrunt] 2016/12/03 23:23:38 Success! Table terragrunt_test_azf3zh is now in active state.
[terragrunt] 2016/12/03 23:23:38 Attempting to create lock item for state file 5TcV5G in DynamoDB table terragrunt_test_azf3zh
[terragrunt] 2016/12/03 23:23:38 Success! Table terragrunt_test_azf3zh is now in active state.
[terragrunt] 2016/12/03 23:23:38 Attempting to create lock item for state file 5TcV5G in DynamoDB table terragrunt_test_azf3zh
[terragrunt] 2016/12/03 23:23:38 Success! Table terragrunt_test_azf3zh is now in active state.
[terragrunt] 2016/12/03 23:23:38 Attempting to create lock item for state file 5TcV5G in DynamoDB table terragrunt_test_azf3zh
[terragrunt] 2016/12/03 23:23:38 Success! Table terragrunt_test_azf3zh is now in active state.
[terragrunt] 2016/12/03 23:23:38 Attempting to create lock item for state file 5TcV5G in DynamoDB table terragrunt_test_azf3zh
[terragrunt] 2016/12/03 23:23:38 Success! Table terragrunt_test_azf3zh is now in active state.
[terragrunt] 2016/12/03 23:23:38 Attempting to create lock item for state file 5TcV5G in DynamoDB table terragrunt_test_azf3zh
[terragrunt] 2016/12/03 23:23:38 Success! Table terragrunt_test_azf3zh is now in active state.
[terragrunt] 2016/12/03 23:23:38 Attempting to create lock item for state file 5TcV5G in DynamoDB table terragrunt_test_azf3zh
[terragrunt] 2016/12/03 23:23:38 Success! Table terragrunt_test_azf3zh is now in active state.
[terragrunt] 2016/12/03 23:23:38 Attempting to create lock item for state file 5TcV5G in DynamoDB table terragrunt_test_azf3zh
[terragrunt] 2016/12/03 23:23:38 Success! Table terragrunt_test_azf3zh is now in active state.
[terragrunt] 2016/12/03 23:23:38 Attempting to create lock item for state file 5TcV5G in DynamoDB table terragrunt_test_azf3zh
[terragrunt] 2016/12/03 23:23:38 Success! Table terragrunt_test_azf3zh is now in active state.
[terragrunt] 2016/12/03 23:23:38 Attempting to create lock item for state file 5TcV5G in DynamoDB table terragrunt_test_azf3zh
[terragrunt] 2016/12/03 23:23:38 Success! Table terragrunt_test_azf3zh is now in active state.
[terragrunt] 2016/12/03 23:23:38 Attempting to create lock item for state file 5TcV5G in DynamoDB table terragrunt_test_azf3zh
[terragrunt] 2016/12/03 23:23:38 Someone already has a lock on state file 5TcV5G! arn:aws:iam::123456789012:user/username@domain.com@192.168.31.74 acquired the lock on 2016-12-04 07:23:38.319572841 +0000 UTC.
[terragrunt] 2016/12/03 23:23:38 Someone already has a lock on state file 5TcV5G! arn:aws:iam::123456789012:user/username@domain.com@192.168.31.74 acquired the lock on 2016-12-04 07:23:38.319572841 +0000 UTC.
[terragrunt] 2016/12/03 23:23:38 Someone already has a lock on state file 5TcV5G! arn:aws:iam::123456789012:user/username@domain.com@192.168.31.74 acquired the lock on 2016-12-04 07:23:38.319572841 +0000 UTC.
[terragrunt] 2016/12/03 23:23:38 Someone already has a lock on state file 5TcV5G! arn:aws:iam::123456789012:user/username@domain.com@192.168.31.74 acquired the lock on 2016-12-04 07:23:38.319572841 +0000 UTC.
[terragrunt] 2016/12/03 23:23:38 Someone already has a lock on state file 5TcV5G! arn:aws:iam::123456789012:user/username@domain.com@192.168.31.74 acquired the lock on 2016-12-04 07:23:38.319572841 +0000 UTC.
[terragrunt] 2016/12/03 23:23:38 Someone already has a lock on state file 5TcV5G! arn:aws:iam::123456789012:user/username@domain.com@192.168.31.74 acquired the lock on 2016-12-04 07:23:38.319572841 +0000 UTC.
[terragrunt] 2016/12/03 23:23:38 Someone already has a lock on state file 5TcV5G! arn:aws:iam::123456789012:user/username@domain.com@192.168.31.74 acquired the lock on 2016-12-04 07:23:38.319572841 +0000 UTC.
[terragrunt] 2016/12/03 23:23:39 Someone already has a lock on state file 5TcV5G! arn:aws:iam::123456789012:user/username@domain.com@192.168.31.74 acquired the lock on 2016-12-04 07:23:38.319572841 +0000 UTC.
[terragrunt] 2016/12/03 23:23:39 Someone already has a lock on state file 5TcV5G! arn:aws:iam::123456789012:user/username@domain.com@192.168.31.74 acquired the lock on 2016-12-04 07:23:38.319572841 +0000 UTC.
[terragrunt] 2016/12/03 23:23:39 Someone already has a lock on state file 5TcV5G! arn:aws:iam::123456789012:user/username@domain.com@192.168.31.74 acquired the lock on 2016-12-04 07:23:38.319572841 +0000 UTC.
[terragrunt] 2016/12/03 23:23:39 Someone already has a lock on state file 5TcV5G! arn:aws:iam::123456789012:user/username@domain.com@192.168.31.74 acquired the lock on 2016-12-04 07:23:38.319572841 +0000 UTC.
[terragrunt] 2016/12/03 23:23:39 Someone already has a lock on state file 5TcV5G! arn:aws:iam::123456789012:user/username@domain.com@192.168.31.74 acquired the lock on 2016-12-04 07:23:38.319572841 +0000 UTC.
[terragrunt] 2016/12/03 23:23:39 Someone already has a lock on state file 5TcV5G! arn:aws:iam::123456789012:user/username@domain.com@192.168.31.74 acquired the lock on 2016-12-04 07:23:38.319572841 +0000 UTC.
[terragrunt] 2016/12/03 23:23:39 Someone already has a lock on state file 5TcV5G! arn:aws:iam::123456789012:user/username@domain.com@192.168.31.74 acquired the lock on 2016-12-04 07:23:38.319572841 +0000 UTC.
[terragrunt] 2016/12/03 23:23:39 Someone already has a lock on state file 5TcV5G! arn:aws:iam::123456789012:user/username@domain.com@192.168.31.74 acquired the lock on 2016-12-04 07:23:38.319572841 +0000 UTC.
[terragrunt] 2016/12/03 23:23:39 Someone already has a lock on state file 5TcV5G! arn:aws:iam::123456789012:user/username@domain.com@192.168.31.74 acquired the lock on 2016-12-04 07:23:38.319572841 +0000 UTC.
[terragrunt] 2016/12/03 23:23:39 Someone already has a lock on state file 5TcV5G! arn:aws:iam::123456789012:user/username@domain.com@192.168.31.74 acquired the lock on 2016-12-04 07:23:38.319572841 +0000 UTC.
[terragrunt] 2016/12/03 23:23:39 Someone already has a lock on state file 5TcV5G! arn:aws:iam::123456789012:user/username@domain.com@192.168.31.74 acquired the lock on 2016-12-04 07:23:38.319572841 +0000 UTC.
[terragrunt] 2016/12/03 23:23:39 Someone already has a lock on state file 5TcV5G! arn:aws:iam::123456789012:user/username@domain.com@192.168.31.74 acquired the lock on 2016-12-04 07:23:38.319572841 +0000 UTC.
--- PASS: TestAcquireLockConcurrency (32.47s)
[terragrunt] 2016/12/03 23:23:48 Table terragrunt_test_WBJoAD is not yet in active state. Will check again after 10s.
[terragrunt] 2016/12/03 23:23:58 Success! Table terragrunt_test_WBJoAD is now in active state.
[terragrunt] 2016/12/03 23:23:58 Attempting to create lock item for state file tfoxh0 in DynamoDB table terragrunt_test_WBJoAD
[terragrunt] 2016/12/03 23:23:58 Someone already has a lock on state file tfoxh0! arn:aws:iam::123456789012:user/username@domain.com@192.168.31.74 acquired the lock on 2016-12-04 07:23:58.281925789 +0000 UTC.
[terragrunt] 2016/12/03 23:23:58 Will try to acquire lock again in 10s.
[terragrunt] 2016/12/03 23:24:08 Attempting to create lock item for state file tfoxh0 in DynamoDB table terragrunt_test_WBJoAD
[terragrunt] 2016/12/03 23:24:08 Someone already has a lock on state file tfoxh0! arn:aws:iam::123456789012:user/username@domain.com@192.168.31.74 acquired the lock on 2016-12-04 07:23:58.281925789 +0000 UTC.
[terragrunt] 2016/12/03 23:24:08 Will try to acquire lock again in 10s.
[terragrunt] 2016/12/03 23:24:18 Attempting to create lock item for state file tfoxh0 in DynamoDB table terragrunt_test_WBJoAD
[terragrunt] 2016/12/03 23:24:19 Someone already has a lock on state file tfoxh0! arn:aws:iam::123456789012:user/username@domain.com@192.168.31.74 acquired the lock on 2016-12-04 07:23:58.281925789 +0000 UTC.
[terragrunt] 2016/12/03 23:24:19 Will try to acquire lock again in 10s.
[terragrunt] 2016/12/03 23:24:29 Attempting to create lock item for state file tfoxh0 in DynamoDB table terragrunt_test_WBJoAD
[terragrunt] 2016/12/03 23:24:29 Lock acquired!
--- PASS: TestWriteItemToLockTableUntilSuccessItemAlreadyExistsButGetsDeleted (82.57s)
PASS
ok  	github.com/gruntwork-io/terragrunt/locks/dynamodb	82.579s
?   	github.com/gruntwork-io/terragrunt/options	[no test files]
=== RUN   TestToTerraformRemoteConfigArgs
=== RUN   TestToTerraformRemoteConfigArgsNoBackendConfigs
=== RUN   TestShouldOverrideExistingRemoteState
=== RUN   TestParseTerraformStateLocal
=== RUN   TestParseTerraformStateRemote
=== RUN   TestParseTerraformStateRemoteFull
=== RUN   TestParseTerraformStateEmpty
=== RUN   TestParseTerraformStateInvalid
--- PASS: TestToTerraformRemoteConfigArgs (0.00s)
[terragrunt] 2016/12/03 23:23:08 Remote state is already configured for backend
[terragrunt] 2016/12/03 23:23:08 Remote state is already configured for backend s3
--- PASS: TestToTerraformRemoteConfigArgsNoBackendConfigs (0.00s)
WARNING: Terraform remote state is already configured, but for backend s3, whereas your .terragrunt file specifies atlas. Overwrite? (y/n)
[terragrunt] 2016/12/03 23:23:08 The non-interactive flag is set to true, so assuming 'yes' for all prompts
[terragrunt] 2016/12/03 23:23:08 Remote state is already configured for backend s3
--- PASS: TestParseTerraformStateInvalid (0.00s)
WARNING: Terraform remote state is already configured for backend s3 with config map[bucket:foo key:bar region:us-east-1], but your .terragrunt file specifies config map[bucket:different key:bar region:us-east-1]. Overwrite? (y/n)
[terragrunt] 2016/12/03 23:23:08 The non-interactive flag is set to true, so assuming 'yes' for all prompts
WARNING: Terraform remote state is already configured for backend s3 with config map[region:us-east-1 bucket:foo key:bar], but your .terragrunt file specifies config map[bucket:foo key:different region:us-east-1]. Overwrite? (y/n)
[terragrunt] 2016/12/03 23:23:08 The non-interactive flag is set to true, so assuming 'yes' for all prompts
WARNING: Terraform remote state is already configured for backend s3 with config map[bucket:foo key:bar region:us-east-1], but your .terragrunt file specifies config map[bucket:foo key:bar region:different]. Overwrite? (y/n)
[terragrunt] 2016/12/03 23:23:08 The non-interactive flag is set to true, so assuming 'yes' for all prompts
--- PASS: TestShouldOverrideExistingRemoteState (0.00s)
--- PASS: TestParseTerraformStateEmpty (0.00s)
--- PASS: TestParseTerraformStateRemote (0.00s)
--- PASS: TestParseTerraformStateLocal (0.00s)
--- PASS: TestParseTerraformStateRemoteFull (0.00s)
PASS
ok  	github.com/gruntwork-io/terragrunt/remote	0.016s
?   	github.com/gruntwork-io/terragrunt/shell	[no test files]
=== RUN   TestTerragruntWorksWithLocalTerraformVersion
[terragrunt] 2016/12/03 23:23:08 Reading Terragrunt config file at /var/folders/fy/r8l0y8vs39g07dyg9kvnrh0w0000gn/T/.terragrunt911228262
[terragrunt] 2016/12/03 23:23:08 Initializing remote state for the s3 backend
Remote state S3 bucket terragrunt-test-bucket-a8x00f does not exist or you don't have permissions to access it. Would you Terragrunt to create it? (y/n)
[terragrunt] 2016/12/03 23:23:08 The non-interactive flag is set to true, so assuming 'yes' for all prompts
[terragrunt] 2016/12/03 23:23:08 Creating S3 bucket terragrunt-test-bucket-a8x00f
[terragrunt] 2016/12/03 23:23:09 S3 bucket terragrunt-test-bucket-a8x00f created.
[terragrunt] 2016/12/03 23:23:09 Enabling versioning on S3 bucket terragrunt-test-bucket-a8x00f
[terragrunt] 2016/12/03 23:23:09 Configuring remote state for the s3 backend
[terragrunt] 2016/12/03 23:23:09 Running command: terraform remote config -backend s3 -backend-config=key=terraform.tfstate -backend-config=region=us-west-2 -backend-config=encrypt=true -backend-config=bucket=terragrunt-test-bucket-a8x00f
Initialized blank state with remote state enabled!
Remote state configured and pulled.
[terragrunt] 2016/12/03 23:23:10 Attempting to acquire lock for state file terragrunt-test-fixture in DynamoDB
[terragrunt] 2016/12/03 23:23:10 Lock table terragrunt_locks does not exist in DynamoDB. Will need to create it just this first time.
[terragrunt] 2016/12/03 23:23:10 Creating table terragrunt_locks in DynamoDB
[terragrunt] 2016/12/03 23:23:11 Table terragrunt_locks is not yet in active state. Will check again after 10s.
[terragrunt] 2016/12/03 23:23:21 Table terragrunt_locks is not yet in active state. Will check again after 10s.
[terragrunt] 2016/12/03 23:23:31 Success! Table terragrunt_locks is now in active state.
[terragrunt] 2016/12/03 23:23:31 Attempting to create lock item for state file terragrunt-test-fixture in DynamoDB table terragrunt_locks
[terragrunt] 2016/12/03 23:23:31 Lock acquired!
[terragrunt] 2016/12/03 23:23:31 Running command: terraform apply fixture/
data.template_file.test: Refreshing state...

Apply complete! Resources: 0 added, 0 changed, 0 destroyed.

Outputs:

rendered_template =
[terragrunt] 2016/12/03 23:23:32 Attempting to release lock for state file terragrunt-test-fixture in DynamoDB
[terragrunt] 2016/12/03 23:23:32 Lock released!
--- PASS: TestTerragruntWorksWithLocalTerraformVersion (24.80s)
	integration_test.go:214: Deleting test s3 bucket terragrunt-test-bucket-a8x00f
=== RUN   TestAcquireAndReleaseLock
[terragrunt] 2016/12/03 23:23:33 Reading Terragrunt config file at fixture-lock/.terragrunt
Are you sure you want to acquire a long-term lock? (y/n)
[terragrunt] 2016/12/03 23:23:33 The non-interactive flag is set to true, so assuming 'yes' for all prompts
[terragrunt] 2016/12/03 23:23:33 Acquiring long-term lock. To release the lock, use the release-lock command.
[terragrunt] 2016/12/03 23:23:33 Attempting to acquire lock for state file terragrunt-test-fixture-lock in DynamoDB
[terragrunt] 2016/12/03 23:23:33 Attempting to create lock item for state file terragrunt-test-fixture-lock in DynamoDB table terragrunt_locks
[terragrunt] 2016/12/03 23:23:33 Lock acquired!
[terragrunt] 2016/12/03 23:23:33 Reading Terragrunt config file at fixture-lock/.terragrunt
[terragrunt] 2016/12/03 23:23:33 Attempting to acquire lock for state file terragrunt-test-fixture-lock in DynamoDB
[terragrunt] 2016/12/03 23:23:33 Attempting to create lock item for state file terragrunt-test-fixture-lock in DynamoDB table terragrunt_locks
[terragrunt] 2016/12/03 23:23:34 Someone already has a lock on state file terragrunt-test-fixture-lock! arn:aws:iam::123456789012:user/username@domain.com@192.168.31.74 acquired the lock on 2016-12-04 07:23:33.552142302 +0000 UTC.
Unable to acquire lock for item terragrunt-test-fixture-lock after 1 retries.
FAIL	github.com/gruntwork-io/terragrunt/test	25.444s
=== RUN   TestGetPathRelativeTo
--- PASS: TestGetPathRelativeTo (0.00s)
PASS
ok  	github.com/gruntwork-io/terragrunt/util	0.008s
?   	github.com/gruntwork-io/terragrunt	[no test files]
```
***

**brikis98** commented *Dec 4, 2016*

I just created a new release: https://github.com/gruntwork-io/terragrunt/releases/tag/v0.5.0. After a few minutes, if the build passes without errors, the new binaries should be at that link.
***

